{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\13053\\\\Desktop\\\\ScopeLabs\\\\app\\\\src\\\\pages\\\\HomePage\\\\HomePage.js\";\nimport '../HomePage/HomePage.scss';\nimport React, { Component } from 'react';\nimport Video from '../../components/Video/Video.js';\nimport VideoListing from '../components/VideoListing/VideoListing';\nimport VideoDescription from '../components/VideoDescription/VideoDescription';\nimport CommentInput from '../components/CommentInput/CommentInput';\nimport CommentDisplay from '../components/CommentDisplay/CommentDisplay';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedVideo: null,\n      videoData: [],\n      stillLoading: true,\n      comments: []\n    };\n    this.fetchVideoDetails = videoId => {\n      axios.get(`https://take-home-assessment-423502.uc.r.appspot.com/api/videos/single?video_id=${videoId}`).then(response => {\n        const videoDetail = response.data;\n        this.setState({\n          selectedVideo: videoDetail,\n          stillLoading: false\n        });\n        this.fetchVideoComments(videoId);\n      }).catch(error => console.error('Error fetching video details:', error));\n    };\n    this.fetchVideoComments = videoId => {\n      axios.get(`https://take-home-assessment-423502.uc.r.appspot.com/api/videos/comments?video_id=${videoId}`).then(response => {\n        this.setState({\n          comments: response.data\n        });\n      }).catch(error => console.error('Error fetching video comments:', error));\n    };\n    this.handleCommentAdded = newComment => {\n      this.setState({\n        comments: [...this.state.comments, newComment]\n      });\n    };\n  }\n  componentDidMount() {\n    axios.get(`/api/videos`).then(response => {\n      const videoResults = response.data;\n      this.setState({\n        videoData: videoResults\n      });\n      this.fetchVideoDetails(videoResults[0].id);\n    }).catch(error => console.error('Error fetching videos:', error));\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const newVideoId = this.props.match.params.videoId;\n    if (newVideoId !== prevProps.match.params.videoId) {\n      this.fetchVideoDetails(newVideoId);\n    }\n  }\n  render() {\n    if (this.state.stillLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }, this);\n    }\n    const filteredVideos = this.state.videoData.filter(video => video.id !== this.state.selectedVideo.id);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Homepage\",\n      children: [/*#__PURE__*/_jsxDEV(Video, {\n        selectedVideo: this.state.selectedVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Homepage__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Homepage__container-section\",\n          children: [/*#__PURE__*/_jsxDEV(VideoDescription, {\n            selectedVideo: this.state.selectedVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n            videoId: this.state.selectedVideo.id,\n            onCommentAdded: this.handleCommentAdded\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CommentDisplay, {\n            comments: this.state.comments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Homepage__container-listing\",\n          children: /*#__PURE__*/_jsxDEV(VideoListing, {\n            videos: filteredVideos,\n            VideoFn: this.fetchVideoDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default HomePage;","map":{"version":3,"names":["React","Component","Video","VideoListing","VideoDescription","CommentInput","CommentDisplay","axios","jsxDEV","_jsxDEV","HomePage","constructor","args","state","selectedVideo","videoData","stillLoading","comments","fetchVideoDetails","videoId","get","then","response","videoDetail","data","setState","fetchVideoComments","catch","error","console","handleCommentAdded","newComment","componentDidMount","videoResults","id","componentDidUpdate","prevProps","prevState","newVideoId","props","match","params","render","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredVideos","filter","video","className","onCommentAdded","videos","VideoFn"],"sources":["C:/Users/13053/Desktop/ScopeLabs/app/src/pages/HomePage/HomePage.js"],"sourcesContent":["import '../HomePage/HomePage.scss';\r\nimport React, { Component } from 'react';\r\nimport Video from '../../components/Video/Video.js';\r\nimport VideoListing from '../components/VideoListing/VideoListing';\r\nimport VideoDescription from '../components/VideoDescription/VideoDescription';\r\nimport CommentInput from '../components/CommentInput/CommentInput';\r\nimport CommentDisplay from '../components/CommentDisplay/CommentDisplay';\r\nimport axios from 'axios';\r\n\r\nclass HomePage extends Component {\r\n    state = {\r\n        selectedVideo: null,\r\n        videoData: [],\r\n        stillLoading: true,\r\n        comments: []\r\n    };\r\n\r\n    fetchVideoDetails = (videoId) => {\r\n        axios.get(`https://take-home-assessment-423502.uc.r.appspot.com/api/videos/single?video_id=${videoId}`)\r\n            .then((response) => {\r\n                const videoDetail = response.data;\r\n                this.setState({ selectedVideo: videoDetail, stillLoading: false });\r\n                this.fetchVideoComments(videoId);\r\n            })\r\n            .catch((error) => console.error('Error fetching video details:', error));\r\n    };\r\n\r\n    fetchVideoComments = (videoId) => {\r\n        axios.get(`https://take-home-assessment-423502.uc.r.appspot.com/api/videos/comments?video_id=${videoId}`)\r\n            .then((response) => {\r\n                this.setState({ comments: response.data });\r\n            })\r\n            .catch((error) => console.error('Error fetching video comments:', error));\r\n    };\r\n\r\n    componentDidMount() {\r\n        axios.get(`/api/videos`)\r\n            .then((response) => {\r\n                const videoResults = response.data;\r\n                this.setState({ videoData: videoResults });\r\n                this.fetchVideoDetails(videoResults[0].id);\r\n            })\r\n            .catch((error) => console.error('Error fetching videos:', error));\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const newVideoId = this.props.match.params.videoId;\r\n        if (newVideoId !== prevProps.match.params.videoId) {\r\n            this.fetchVideoDetails(newVideoId);\r\n        }\r\n    };\r\n\r\n    handleCommentAdded = (newComment) => {\r\n        this.setState({ comments: [...this.state.comments, newComment] });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.stillLoading) {\r\n            return <div>Loading...</div>;\r\n        }\r\n\r\n        const filteredVideos = this.state.videoData.filter((video) => video.id !== this.state.selectedVideo.id);\r\n        return (\r\n            <div className=\"Homepage\">\r\n                <Video selectedVideo={this.state.selectedVideo} />\r\n                <div className=\"Homepage__container\">\r\n                    <div className=\"Homepage__container-section\">\r\n                        <VideoDescription selectedVideo={this.state.selectedVideo} />\r\n                        <CommentInput videoId={this.state.selectedVideo.id} onCommentAdded={this.handleCommentAdded} />\r\n                        <CommentDisplay comments={this.state.comments} />\r\n                    </div>\r\n                    <div className=\"Homepage__container-listing\">\r\n                        <VideoListing videos={filteredVideos} VideoFn={this.fetchVideoDetails} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}